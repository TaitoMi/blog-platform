(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{200:function(e,a,r){e.exports=r(393)},205:function(e,a,r){},211:function(e,a,r){},393:function(e,a,r){"use strict";r.r(a);var t={};r.r(t),r.d(t,"registration",(function(){return j})),r.d(t,"default",(function(){return R}));var n=r(0),s=r.n(n),o=r(29),l=r.n(o),i=(r(205),r(14)),c=r(85),m=r(186),u=r(187),p=(r(209),r(210),r(211),r(31)),d=r(32),f=r(130),b=r(78),h=r(79),g=r(87),E=r(80),v=r(88),_=r(394),y=function(e){function a(e){var r;return Object(b.a)(this,a),(r=Object(g.a)(this,Object(E.a)(a).call(this,e))).logIn=function(e){e.preventDefault()},r.state={something:"111"},r}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state.something;return s.a.createElement("form",{className:"form",onSubmit:this.logIn},e,s.a.createElement("div",{className:"form__row"},s.a.createElement("span",{className:"form__label"},"Email:"),s.a.createElement(_.a,{className:"form__input",id:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"})),s.a.createElement("div",{className:"form__row"},s.a.createElement("span",{className:"form__label"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),s.a.createElement(_.a,{className:"form__input",id:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),s.a.createElement("div",{className:"form__row"},s.a.createElement(f.a,{htmlType:"submit",className:"form__submit-btn",type:"primary"},"\u0412\u043e\u0439\u0442\u0438"),s.a.createElement(p.b,{to:"/signup"},s.a.createElement(f.a,{type:"danger"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))}}]),a}(n.Component),w=r(198),N=r(129),O=r.n(N),j=function(e){var a=e.email,r=e.username,t=e.password;return function(e){var n,s;return O.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,O.a.awrap(fetch("https://conduit.productionready.io/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:a,username:r,password:t}})}));case 2:if(!(n=o.sent).ok){o.next=5;break}return o.abrupt("return",e({type:"USER_REGISTERED",payload:{reg:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c"}}));case 5:return n.json().then((function(e){s={type:"REG_ERROR",payload:{error:e.errors}}})),o.abrupt("return",e(s));case 7:case"end":return o.stop()}}))}},R="ku",S=function(e){var a=e.label,r=e.changer,t=e.blur,n=e.idName,o=e.value,l=e.touched,i=e.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form__row"},s.a.createElement("span",{className:"form__label"},a[0].toUpperCase()+a.slice(1)),s.a.createElement(_.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ".concat(a),onChange:r,onBlur:t,id:n,name:n,value:o,className:"form__input ".concat(l&&i?"has-error":null)})),l&&i?s.a.createElement("div",{className:"input__error"},i):null)},k=r(60),C=k.object().shape({username:k.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(4,"\u041d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(50,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),password:k.string().min(8,"\u041d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8").max(40,"\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 40").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:k.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").email("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441")}),T=function(e){function a(e){var r;return Object(b.a)(this,a),(r=Object(g.a)(this,Object(E.a)(a).call(this,e))).registrationHandler=function(e){(0,r.props.registration)(e)},r.state={},r}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=this.props,r=a.isRegSuccessful;a.error;return s.a.createElement(w.a,{initialValues:{username:"",password:"",email:""},validationSchema:C,onSubmit:function(a,r){r.setSubmitting,r.resetForm;e.registrationHandler(a)}},(function(e){var a=e.values,t=e.errors,n=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return s.a.createElement("form",{className:"form",onSubmit:i},s.a.createElement(s.a.Fragment,null,JSON.stringify(a,null,2)),console.log(r,"reg"),s.a.createElement("div",null,r),s.a.createElement(S,{label:"\u0438\u043c\u044f",changer:o,blur:l,idName:"username",value:a.username,touched:n.username,error:t.username}),s.a.createElement(S,{label:"email",changer:o,blur:l,idName:"email",value:a.email,touched:n.email,error:t.email}),s.a.createElement(S,{label:"\u043f\u0430\u0440\u043e\u043b\u044c",changer:o,blur:l,idName:"password",value:a.password,touched:n.password,error:t.password}),s.a.createElement("div",{className:"form__row"},s.a.createElement(f.a,{loading:c,className:"form__submit-btn",htmlType:"submit",type:"primary"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),s.a.createElement(p.b,{to:"/login"},s.a.createElement(f.a,{type:"danger"},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"))),r?s.a.createElement("div",null,r):null)}))}}]),a}(n.Component),x=Object(c.b)((function(e){return{email:e.user.email,username:e.user.username,password:e.user.password,isRegSuccessful:e.user.isRegSuccessful,error:e.user.error}}),(function(e){var a=Object(i.bindActionCreators)(t,e);return{usernameHandler:a.usernameHandler,registration:a.registration}}))(T);var I=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(p.a,null,s.a.createElement(p.b,{to:"/login"},s.a.createElement(f.a,{type:"primary"},"Login")),s.a.createElement(p.b,{to:"/signup"},s.a.createElement(f.a,{type:"danger"},"Registration")),s.a.createElement(d.a,{path:"/login",component:y}),s.a.createElement(d.a,{path:"/signup",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=r(131),D={email:"",username:"",password:"",isRegSuccessful:"",error:null},G=Object(i.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0,r=a.payload;switch(a.type){case"USER_REGISTERED":return Object(B.a)({},e,{isRegSuccessful:r.reg});case"REG_ERROR":return Object(B.a)({},e,{error:r.error});default:return e}}}),H=Object(i.createStore)(G,Object(m.composeWithDevTools)(Object(i.applyMiddleware)(u.a)));l.a.render(s.a.createElement(c.a,{store:H},s.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[200,1,2]]]);
//# sourceMappingURL=main.915fdf7c.chunk.js.map